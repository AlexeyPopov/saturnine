<html>
  <head>
    <title>saturnine.core API reference (Saturnine)</title>
    <link href="static/favicon.png" rel="icon" />
    <link href="static/favicon.png" rel="shortcut icon" />
    <link media="all" type="text/css" href="static/clojure.css" rel="stylesheet" />
    <link media="all" type="text/css" href="static/wiki.css" rel="stylesheet" />
    <link media="all" type="text/css" href="static/internal.css" rel="stylesheet" />
    <!-- TODO: are we using these (from clojure.org)? If so, add the files -->
    <script src="file/view/code_highlighter.js" type="text/javascript"></script>
    <script src="file/view/clojure.js" type="text/javascript"></script>
    <style>.menuWrapper{height: 36px;}</style>
    <!--[if lte IE 6]>
    <link rel="stylesheet" href="http://www.wikispaces.com/_/2009051601/s/internal_ie.css" type="text/css" />
    <![endif]-->
  </head>
<!--
This document was auto-generated from the source by the clojure autodoc system.
To report errors or ask questions about the overall documentation structure, formatting,
etc., contact Tom Faulhaber (google mail name: tomfaulhaber).
For errors in the documentation of a particular namespace, contact the author of that
namespace.
-->
  <body>
    <div id="AllContentContainer">
      <div id="Header">
	<a id="Logo" href="index.html"><img alt="Clojure" height="100" width="100" src="static/clojure-icon.gif" /></a>
	<h1><a title="page header title" id="page-header" href="index.html">API Documentation</a></h1>
      </div>
      <div id="leftcolumn"><div style="text-align: center;"></div>
<div class="menu">
  <div class="WikiCustomNav WikiElement wiki">
    <a class="wiki_link" href="index.html">Overview</a><br />
    <a class="wiki_link" href="api-index.html">API Index</a><br />
    <a class="wiki_link" href="#">Namespaces:</a>
    <ul id="left-sidebar-list">
      <li><a href="saturnine.core-api.html" class="wiki_link">saturnine.core</a></li><li><a href="saturnine.examples-api.html" class="wiki_link">saturnine.examples</a></li><li><a href="saturnine.handler-api.html" class="wiki_link">saturnine.handler</a></li>
    </ul>
  </div>
</div>
</div>
      <div id="rightcolumn">
	<div id="Content">
	  <div class="contentBox"><div class="innerContentBox">
              <div id="content_view" class="wiki wikiPage">
                <div id="right-sidebar"><div id="toc">
  <h1 class="nopad">Table of Contents</h1>
  <div style="margin-left: 1em;" class="toc-section">
    <a href="#toc0">Overview</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#saturnine.core/start-client">start-client</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#saturnine.core/start-server">start-server</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#saturnine.core/stop-client">stop-client</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#saturnine.core/stop-server">stop-server</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#saturnine.core.internal">saturnine.core.internal</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#saturnine.core.internal/print-helper">print-helper</a>
    </div>
    <br />
  </div>
</div>
</div>
                <div id="content-tag"><h1 id="overview">API for <span id="namespace-name">saturnine.core</span></h1>
by <span id="author">Unknown</span><br />
<br />Usage:
<pre>
(ns your-namespace
  (:require <span id="long-name">saturnine.core</span>))
</pre><pre>
</pre><h2>Overview</h2>
<pre id="namespace-docstr">This namespace contains functions for starting and stopping server and
client instances</pre>
<br />
<h2>Public Variables and Functions</h2>
<div id="var-entry">
  <br />
  <hr />
  <h2 id="saturnine.core/start-client">start-client</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (start-client name port options? &amp; handlers)
</pre>
  <pre id="var-docstr">Allows the user to define &amp; start a client instance.  Once the 
         client has been instantiated, you can create new connections with 
         (open client ip).  The only option available is :nonblocking or :blocking 
         (not both), which configures the client to use NIO.  In addition to Handlers 
         you define yourself, defclient accepts a few built in Handlers:

:ssl      - SSL; use with params for SSLContext, ie [:ssl keystore 
                  keypassword certpassword]

      :starttls - Same as :ssl, except that a handler must call starttls once per
                  connection to switch to SSL mode. 

      :string   - translates to String (flushes on newline)

      :clj      - translates Strings to Clojure data structures with read-string

      :echo     - echos upstream messages downstream

      :prompt   - Writes the supplied prompt argument appended to every 
                  downstream message (eg [:prompt "=&gt;"])

      :print    - logs messages via clojure.contrib.logging.  Can be used alone,
                  or in a vector with a prompt string argument, ie [:print "QuoteServer"]

      :xml      - translates Strings to XML Elements (as Clojure maps).  For 
                  example, the xml string "&lt;test&gt;HELLO&lt;/test&gt;" would become:
                       
                       {:tag :start-element :qname "test" :attrs {}}
                       {:tag :characters :qname "HELLO"}
                       {:tag :end-element :qname "test"}

      :json     - translates Strings to/from JSON objects (with 
                  clojure.contrib.json)

      :http     - translates Bytes to HTTP Request/Response maps

      :xmpp     - translates XMPP Stanzas into clojure maps (including a fake stanza
                  to mark stream:stream opens and closes).  For example, the xml 
                  string "&lt;stream:stream&gt;&lt;iq from='test@localhost' xmlns='fake'&gt;
                  &lt;iq:result&gt;TEST&lt;/iq:result&gt;&lt;/iq&gt;" would become:

                       {:tag :stream:stream, :attrs {}, :content []}
                       {:tag     :iq
                        :attrs   {:xmlns "fake" :from "test@localhost"}
                        :content [{:tag     :iq:result
                                   :attrs   {}
                                   :content ["TEST"]}]}

                  Note the resemblense to clojure.xml's output, and that stream:stream
                  messages are dispatched upstream despite the fact that they are 
                  unclosed, while the iq stanza is not dispatched until the entire 
                  stanza is received.</pre>
  <a href="http://www.github.com/texodus/saturnine/tree/dc25c6efcf97ba90db2b5adef212d52ea1fe90dd/src/saturnine/core.clj#L101" id="var-source">Source</a>
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="saturnine.core/start-server">start-server</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (start-server name port options? &amp; handlers)
</pre>
  <pre id="var-docstr">Allows the user to define &amp; start a server instance.  The only option
         available is :nonblocking or :blocking (not both), which configures the 
         server to use NIO.  In addition to Handlers you define yourself, defserver 
         accepts a few built in Handlers:

:ssl      - SSL; use with params for SSLContext, ie [:ssl keystore 
                  keypassword certpassword]

      :starttls - Same as :ssl, except that a handler must call starttls once per
                  connection to switch to SSL mode. 

      :string   - translates to String (flushes on newline)

      :clj      - translates Strings to Clojure data structures with read-string

      :echo     - echos upstream messages downstream

      :prompt   - Writes the supplied prompt argument appended to every 
                  downstream message (eg [:prompt "=&gt;"])

      :print    - logs messages via clojure.contrib.logging.  Can be used alone,
                  or in a vector with a prompt string argument, ie [:print "QuoteServer"]

      :xml      - translates Strings to XML Elements (as Clojure maps).  For 
                  example, the xml string "&lt;test&gt;HELLO&lt;/test&gt;" would become:
                       
                       {:tag :start-element :qname "test" :attrs {}}
                       {:tag :characters :qname "HELLO"}
                       {:tag :end-element :qname "test"}

      :json     - translates Strings to/from JSON objects (with 
                  clojure.contrib.json)

      :http     - translates Bytes to HTTP Request/Response maps

      :xmpp     - translates XMPP Stanzas into clojure maps (including a fake stanza
                  to mark stream:stream opens and closes).  For example, the xml 
                  string "&lt;stream:stream&gt;&lt;iq from='test@localhost' xmlns='fake'&gt;
                  &lt;iq:result&gt;TEST&lt;/iq:result&gt;&lt;/iq&gt;" would become:

                       {:tag :stream:stream, :attrs {}, :content []}
                       {:tag     :iq
                        :attrs   {:xmlns "fake" :from "test@localhost"}
                        :content [{:tag     :iq:result
                                   :attrs   {}
                                   :content ["TEST"]}]}

                  Note the resemblense to clojure.xml's output, and that stream:stream
                  messages are dispatched upstream despite the fact that they are 
                  unclosed, while the iq stanza is not dispatched until the entire 
                  stanza is received.</pre>
  <a href="http://www.github.com/texodus/saturnine/tree/dc25c6efcf97ba90db2b5adef212d52ea1fe90dd/src/saturnine/core.clj#L79" id="var-source">Source</a>
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="saturnine.core/stop-client">stop-client</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (stop-client client)
</pre>
  <pre id="var-docstr">Deallocates a client stack's resources</pre>
  <a href="http://www.github.com/texodus/saturnine/tree/dc25c6efcf97ba90db2b5adef212d52ea1fe90dd/src/saturnine/core.clj#L115" id="var-source">Source</a>
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="saturnine.core/stop-server">stop-server</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (stop-server server)
</pre>
  <pre id="var-docstr">Stops a Server instance, severs all spawned connections and deallocates all
system resources.</pre>
  <a href="http://www.github.com/texodus/saturnine/tree/dc25c6efcf97ba90db2b5adef212d52ea1fe90dd/src/saturnine/core.clj#L93" id="var-source">Source</a>
</div>
<h2 id="namespace-name">saturnine.core.internal</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="saturnine.core.internal/print-helper">print-helper</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (print-helper title msg)
       (print-helper title msg sep)
       (print-helper title msg sep fun)
</pre>
  <pre id="var-docstr">Helper fun for Print handler - factors out duplicate code</pre>
  <a href="http://www.github.com/texodus/saturnine/tree/dc25c6efcf97ba90db2b5adef212d52ea1fe90dd/src/saturnine/core/internal.clj#L67" id="var-source">Source</a>
</div>


</div>
              </div>
            </div>
          </div>
	</div>
	<div id="foot">
	  <div style="text-align: center;" id="copyright">(c) 2009, Andrew Stein</div>
	</div>
      </div>
      <div id="DesignedBy">Logo &amp; site design by <a title="Visit Tom Hickey's website." href="http://www.tomhickey.com">Tom Hickey</a>.<br />
      Clojure auto-documentation system by Tom Faulhaber.</div>
    </div>
    <!-- /AllContentContainer -->
  </body>

</html>